@model IEnumerable<IndividualCapstone.Models.Shipment>


@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Index</h2>

@using (Html.BeginForm("Index", "Shipments"))
    {
        @Html.AntiForgeryToken()
       <table class="table" , id="checkbox">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.DeliveryAddress.AddToRoute)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.DeliveryAddress.DeliveryZip)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.PickupAddress.AddressLatLong)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Quote.DeliveryCost)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.PickupAddress.AddToRoute)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.PickupAddress.PickupZip)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.PickupAddress.AddressLatLong)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Quote.PickupCost)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ServiceLevel.TypeOfServiceLevel)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ServiceType.NameOfService)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.ShipmentCost)
            </th>


        </tr>


        @foreach (var item in Model)
{
            <tr>
                <td>
                    @Html.CheckBoxFor(modelItem => item.DeliveryAddress.AddToRoute)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DeliveryAddress.DeliveryZip)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DeliveryAddress.AddressLatLong, new { LatLongId = item.DeliveryAddress.AddressLatLong, @class = "LatLong" })
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Quote.DeliveryCost)
                </td>
                <td>
                    @Html.CheckBoxFor(modelItem => item.PickupAddress.AddToRoute, new
                    {
                        id = item.PickupAddress.AddToRoute,
                        @class = "toggle",
                        data_url = Url.Action("AddToLatLongList", "Shipments")
                    }))
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PickupAddress.PickupZip)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PickupAddress.AddressLatLong)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Quote.PickupCost)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ServiceLevel.TypeOfServiceLevel)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ServiceType.NameOfService)
                </td>
                <td>
                    $@Html.DisplayFor(modelItem => item.ShipmentCost)
                </td>
                <td>
                    @Html.ActionLink("Edit", "Edit", "Shipment", new { id = item.Id }) |
                    @Html.ActionLink("Details", "Details", "Shipment", new { id = item.Id }) |
                    @Html.ActionLink("Delete", "Delete", "Shipment", new { id = item.Id }) |

            </tr>
        }
    </table>
    <div class="table">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" name="listOfShipments" value="listOfShipments" class="btn btn-default" />
        </div>
    </div>
    <script>
        if($(".toggle").is(':checked')){
     // Code in the case checkbox is checked.
            var latLongList = @Model.Select(s => new { s.DeliveryAddress.AddressLatLong }).ToList();
} else {
     // Code in the case checkbox is NOT checked.
}
    </script>
}





