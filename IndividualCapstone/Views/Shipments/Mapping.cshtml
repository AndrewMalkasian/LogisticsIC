@model List<IndividualCapstone.Models.Shipment>

@{
    ViewBag.Title = "Mapping";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Mapping</h2>

    <div id="map"></div>
    <script>
    var map;
    function initMap() {
        map = new google.maps.Map(
            document.getElementById('map'),
            { center: new google.maps.LatLng("42.948650,-87.909540"), zoom: 16 });

         var shipments = @Html.Raw(Json.Encode(Model[0].DeliveryAddress.AddressLatLong));
    // students is a javascript array that will look like this:
    // students = [{"FirstName":"fn1","LastName":"ln1"}, {"FirstName":"fn2","LastName":"ln2"}, ...];
    for (var i = 0; i < shipments.length; i++) {
        var shipments = shipments[i];
    }
        for (var i = 0; i < @Model.Count; i++) {
          var marker = new google.maps.Marker({
            position: shipments[i].DeliveryAddress.AddressLatLong,
            map: map
          });
        };

    </script>

<script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAaAb-id1OeEi4iXDdGL4Y28QnM8i5e96w&callback=initMap">
</script>
